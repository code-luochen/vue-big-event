# 设置路由守卫
1、可以设置白名单，对不需要身份认证的路由模块进行放行
// 全局前置路由守卫
// 只要是有路由的使用，就会调用路由守卫
// next()如果强制切换路由地址，会再次走路由守卫去匹配路由表
// 设置白名单，不需要登录就可以去的页面
// 无需验证token的页面
const whiteList = ['/login', '/reg']

router.beforeEach((to, from, next) => {
  const token = store.state.token
  if (token) {
    // 如果有token, 证明已登录
    if (!store.state.userInfo.username) {
      // 有token但是没有用户信息, 才去请求用户信息保存到vuex里
      // 调用actions里方法请求数据
      store.dispatch('initUserInfo')
      // 下次切换页面vuex里有用户信息数据就不会重复请求用户信息
    }
    next() // 路由放行
  } else {
    // 如果无token
    // 如果去的是白名单页面, 则放行
    if (whiteList.includes(to.path)) {
      next()
    } else {
      // 如果其他页面请强制拦截并跳转到登录页面
      next('/login')
    }
  }
})
2、当我们退出登录时需要将用户的信息删除干净，当用户再次登录时才会准确得到相关用户的准确信息
// 退出登录，重新登录，只走相关的代码（异步dom切换，不会导致所有的代码重新执行，App.vue不走）
// 当我们切换路由时，只会加载相关页面的代码，不会刷新其他页面的代码
// 效果不对：当换账号时，得重新请求用户的数据
// 解决：
// 1、可以在登录的页面，登录成功后，再发请求去拿用户的信息
// 2、可以在全局前置路由守卫中，写（路由跳转的时候，判断+获取）

# 请求拦截器和响应拦截器
1、每次请求前都会走请求拦截器中
2、当请求完毕后，要走响应拦截器
3、如果用户的token值过期会返回一个401的错误，这时需要在响应拦截器清空vuex中的用户信息，并重新回到登录页】

# Echarts的使用
1、可以查看官方文档进行配置，是一个图形和图表的组件库
2、需要在那个页面使用，就在那个页面引用